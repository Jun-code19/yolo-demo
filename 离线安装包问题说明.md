# Linuxå®‰è£…è„šæœ¬é—®é¢˜æ’æŸ¥æŒ‡å—

## ğŸ” é—®é¢˜è¯Šæ–­

é”™è¯¯ `cannot execute: required file not found` é€šå¸¸ç”±ä»¥ä¸‹åŸå› å¼•èµ·ï¼š

### 1. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
```bash
# æŸ¥çœ‹å½“å‰ç›®å½•å†…å®¹
ls -la

# æŸ¥çœ‹install.shæ–‡ä»¶è¯¦ç»†ä¿¡æ¯
ls -la install.sh
```

### 2. æ£€æŸ¥æ–‡ä»¶æƒé™
```bash
# æŸ¥çœ‹æ–‡ä»¶æƒé™
ls -la install.sh

# å¦‚æœæ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œæ·»åŠ æ‰§è¡Œæƒé™
chmod +x install.sh
chmod +x manage.sh
```

### 3. æ£€æŸ¥æ–‡ä»¶æ ¼å¼ï¼ˆæ¢è¡Œç¬¦é—®é¢˜ï¼‰
```bash
# æ£€æŸ¥æ–‡ä»¶æ ¼å¼
file install.sh

# å¦‚æœæ˜¾ç¤º"with CRLF line terminators"ï¼Œéœ€è¦è½¬æ¢æ ¼å¼
# å®‰è£…dos2unixå·¥å…·
sudo apt-get update
sudo apt-get install dos2unix

# è½¬æ¢æ–‡ä»¶æ ¼å¼
dos2unix install.sh
dos2unix manage.sh
```

### 4. æ£€æŸ¥shebangè¡Œ
```bash
# æŸ¥çœ‹æ–‡ä»¶å¼€å¤´
head -1 install.sh

# åº”è¯¥æ˜¾ç¤º: #!/bin/bash
# æ£€æŸ¥bashæ˜¯å¦å­˜åœ¨
which bash
```

## ğŸ› ï¸ å¿«é€Ÿä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šé‡æ–°åˆ›å»ºinstall.shè„šæœ¬
```bash
# å¤‡ä»½åŸæ–‡ä»¶
mv install.sh install.sh.bak

# åˆ›å»ºæ–°çš„install.sh
cat > install.sh << 'EOF'
#!/bin/bash

echo "=== YOLO Linuxå®‰è£…è„šæœ¬ ==="
echo "ç³»ç»Ÿæ¶æ„: $(uname -m)"
echo ""

# æ£€æŸ¥Docker
if ! command -v docker &> /dev/null; then
    echo "âŒ Dockeræœªå®‰è£…"
    echo "Ubuntu/Debianå®‰è£…å‘½ä»¤:"
    echo "  curl -fsSL https://get.docker.com | sh"
    echo "  sudo usermod -aG docker $USER"
    echo "  newgrp docker"
    exit 1
fi
echo "âœ… Dockerå·²å®‰è£…"

# æ£€æŸ¥Docker Compose
if ! command -v docker-compose &> /dev/null; then
    echo "âŒ Docker Composeæœªå®‰è£…"
    echo "å®‰è£…å‘½ä»¤:"
    echo "  sudo curl -L \"https://github.com/docker/compose/releases/latest/download/docker-compose-Linux-x86_64\" -o /usr/local/bin/docker-compose"
    echo "  sudo chmod +x /usr/local/bin/docker-compose"
    exit 1  
fi
echo "âœ… Docker Composeå·²å®‰è£…"
echo ""

echo "ğŸ”„ åŠ è½½Dockeré•œåƒ..."
docker load < docker_images/data-server.tar
docker load < docker_images/detect-server.tar
docker load < docker_images/frontend.tar
docker load < docker_images/postgres.tar
echo "âœ… é•œåƒåŠ è½½å®Œæˆ"
echo ""

echo "ğŸ“ åˆ›å»ºç›®å½•..."
mkdir -p models storage uploads
chmod 755 models storage uploads
echo "âœ… ç›®å½•åˆ›å»ºå®Œæˆ"
echo ""

echo "ğŸš€ å¯åŠ¨æœåŠ¡..."
docker-compose up -d
echo ""

echo "â³ ç­‰å¾…æœåŠ¡å¯åŠ¨..."
sleep 15
echo ""

echo "ğŸ“Š æ£€æŸ¥æœåŠ¡çŠ¶æ€..."
docker-compose ps
echo ""

echo "ğŸ‰ === å®‰è£…å®Œæˆ! ==="
echo "ğŸ“± å‰ç«¯è®¿é—®: http://localhost"
echo "ğŸ”§ æ£€æµ‹API: http://localhost:8000/docs"
echo "ğŸ“Š æ•°æ®API: http://localhost:8001/docs"
echo ""
echo "ğŸ“‹ å¸¸ç”¨å‘½ä»¤:"
echo "  docker-compose ps        # æŸ¥çœ‹çŠ¶æ€"
echo "  docker-compose logs -f   # æŸ¥çœ‹æ—¥å¿—"
echo "  docker-compose down      # åœæ­¢æœåŠ¡"
echo "  docker-compose restart   # é‡å¯æœåŠ¡"
EOF

# è®¾ç½®æ‰§è¡Œæƒé™
chmod +x install.sh
```

### æ–¹æ¡ˆäºŒï¼šé‡æ–°åˆ›å»ºmanage.shè„šæœ¬
```bash
# åˆ›å»ºç®¡ç†è„šæœ¬
cat > manage.sh << 'EOF'
#!/bin/bash

case "$1" in
  start)
    echo "ğŸš€ å¯åŠ¨YOLOæœåŠ¡..."
    docker-compose up -d
    ;;
  stop)
    echo "ğŸ›‘ åœæ­¢YOLOæœåŠ¡..."
    docker-compose down
    ;;
  restart)
    echo "ğŸ”„ é‡å¯YOLOæœåŠ¡..."
    docker-compose restart
    ;;
  status)
    echo "ğŸ“Š æœåŠ¡çŠ¶æ€:"
    docker-compose ps
    ;;
  logs)
    echo "ğŸ“œ æŸ¥çœ‹æ—¥å¿—:"
    docker-compose logs -f
    ;;
  *)
    echo "YOLO Linuxç®¡ç†å·¥å…·"
    echo "ç”¨æ³•: $0 {start|stop|restart|status|logs}"
    ;;
esac
EOF

# è®¾ç½®æ‰§è¡Œæƒé™
chmod +x manage.sh
```

## ğŸš€ æ‰§è¡Œå®‰è£…

### 1. å®Œæˆä¿®å¤åæ‰§è¡Œå®‰è£…
```bash
./install.sh
```

### 2. å¦‚æœä»æœ‰é—®é¢˜ï¼Œæ‰‹åŠ¨æ‰§è¡Œå®‰è£…æ­¥éª¤
```bash
# 1. æ£€æŸ¥Dockerç¯å¢ƒ
docker --version
docker-compose --version

# 2. åŠ è½½é•œåƒ
docker load < docker_images/data-server.tar
docker load < docker_images/detect-server.tar
docker load < docker_images/frontend.tar
docker load < docker_images/postgres.tar

# 3. æ£€æŸ¥é•œåƒæ˜¯å¦åŠ è½½æˆåŠŸ
docker images

# 4. åˆ›å»ºç›®å½•
mkdir -p models storage uploads

# 5. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 6. æŸ¥çœ‹çŠ¶æ€
docker-compose ps
```

## ğŸ“‹ å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

| é”™è¯¯ä¿¡æ¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|---------|------|---------|
| `cannot execute: required file not found` | æ–‡ä»¶æ ¼å¼æˆ–æƒé™é—®é¢˜ | æŒ‰ä¸Šè¿°æ–¹æ¡ˆé‡æ–°åˆ›å»ºè„šæœ¬ |
| `Permission denied` | æ²¡æœ‰æ‰§è¡Œæƒé™ | `chmod +x install.sh` |
| `command not found: docker` | Dockeræœªå®‰è£… | å®‰è£…Docker |
| `command not found: docker-compose` | Docker Composeæœªå®‰è£… | å®‰è£…Docker Compose |
| `No such file or directory` | æ–‡ä»¶è·¯å¾„é”™è¯¯ | æ£€æŸ¥å½“å‰ç›®å½•å’Œæ–‡ä»¶ä½ç½® |

## ğŸ” è°ƒè¯•å‘½ä»¤

```bash
# æŸ¥çœ‹æ–‡ä»¶è¯¦ç»†ä¿¡æ¯
ls -la install.sh

# æŸ¥çœ‹æ–‡ä»¶å†…å®¹
cat install.sh

# æŸ¥çœ‹æ–‡ä»¶æ ¼å¼
file install.sh

# æŸ¥çœ‹æ–‡ä»¶çš„åå…­è¿›åˆ¶å¼€å¤´ï¼ˆæ£€æŸ¥BOMç­‰ï¼‰
hexdump -C install.sh | head

# æ£€æŸ¥bashè§£é‡Šå™¨
which bash
echo $SHELL
```

## âœ… éªŒè¯å®‰è£…

å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯ï¼š

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs

# æµ‹è¯•å‰ç«¯è®¿é—®ï¼ˆå¦‚æœæœ‰curlï¼‰
curl http://localhost

# æµ‹è¯•APIè®¿é—®
curl http://localhost:8000/docs
``` 